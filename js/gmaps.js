(function(a){a("input,textarea").jqBootstrapValidation({preventSubmit:true,submitSuccess:function(c,d){if(!c.attr("action")){d.preventDefault();var f=b(c);var e={};c.find("input, textarea, option:selected").each(function(i){var h=a(this).val();var g=a(this).attr("id");if(a(this).is(":checkbox")){h=a(this).is(":checked")}else{if(a(this).is(":radio")){h=a(this).val()+" = "+a(this).is(":checked")}else{if(a(this).is("option:selected")){g=a(this).parent().attr("id")}}}e[g]=h});a.ajax({url:f,type:"POST",data:e,cache:false,success:function(){if(c.is("[success-msg]")){c.append("<div id='form-alert'><div class='alert alert-success'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><strong>"+c.attr("success-msg")+"</strong></div></div>")}else{window.location.replace(c.attr("success-url"))}c.trigger("reset")},error:function(){if(a("#form-alert").length==0){c.append("<div id='form-alert'><div class='alert alert-danger'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><strong>"+c.attr("fail-msg")+"</strong></div></div>")}}})}},filter:function(){return a(this).is(":visible")}});function b(c){var d="./includes/"+c.attr("id")+".php";if(c.attr("template-path")){d=c.attr("template-path")+"/includes/"+c.attr("id")+".php"}return d}});